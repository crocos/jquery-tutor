/*! jQuery Tutor - v1.0.0 - 2013-03-11
 * https://github.com/crocos/jquery-tutor
 * Copyright (c) 2013 Crocos Inc.; Licensed BSD */(function(e){"use strict";var t=function(t){var o=[],t=e.extend({steps:[]},t?t:{}),n=function(t,o){var n=e("body"),s=t.outerWidth(),r=t.outerHeight(),a=n.outerWidth(),i=n.outerHeight(),d=o.top,u=a-s-o.left,p=i-r-o.top,c=o.left,f=e.map([d,u,p,c],function(e){return(0>e?0:e)+"px"});return e("<div />").addClass("tutor-overlay").css({width:s,height:r,borderWidth:f.join(" ")})},s=function(t){var o=e("<div />").addClass("tutor-message");return o.append(e("<div />").addClass("tutor-message-header")).append(e("<div />").addClass("tutor-message-body").append(e("<p />").text(t))).append(e("<div />").addClass("tutor-message-footer").append(e("<button />").addClass("tutor-message-btn-next").text("Next"))),o},r=function(t,o){t[o]&&e.isFunction(t[o])&&t[o].apply(null,[]).done(function(){r(t,o+1)})};e.each(t.steps,function(t,r){o[o.length]=e.isFunction(r)?function(){var t=e.Deferred(),o=r.apply(null,[t]);return o&&e.isFunction(o.promise)?t=o:setTimeout(function(){t.resolve()},0),t.promise()}:function(){var t,o,a,i,d=e.Deferred(),u=e("body"),p=u.css("overflow");return e.isPlainObject(r)&&r.target&&r.message&&(t=e(r.target),i=t.offset(),o=s(r.message),a=n(t,i),u.css("overflow","hidden"),a.appendTo(u).show(),o.appendTo(u).css({top:i.top+t.height()+50,left:i.left}).fadeIn(100),u.animate({scrollTop:i.top>50?i.top-50:0}),o.on("click",".tutor-message-btn-next",function(){o.fadeOut(100,function(){u.css("overflow",p),a.remove(),o.remove(),d.resolve()})})),d.promise()}}),r(o,0)};e.tutor=t})(jQuery);